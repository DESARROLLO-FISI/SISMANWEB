<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
</head>
<body>

	<!-- **********************************IRegistro**********************************-->
	<div th:fragment="contentCursoRegistro">
		<form th:action="@{/curso/add}" th:object="${curso}" method="post">
			<div class="form-group">
				<div class="col-xs-12">
					<br/>
					<h2>Datos Obligatorios</h2>
					<hr/>
				</div>

				<div class="col-xs-12">
					<label for="nombre">Nombre de curso</label> <input type="text"
						class="form-control" id="nombre" placeholder="Ingrese Nombre"
						required="" pattern="([a-zA-Z0-9]\s*){1,71}" th:field="*{nombre}"></input>
				</div>
				<div class="col-xs-6">
					<label for="ciclo">Ciclo</label> <input type="number"
						class="form-control" id="ciclo" placeholder="Ciclo" required=""
						min="0" max="10" th:field="*{ciclo}"></input>
				</div>				
				<div class="col-xs-6">
					<label for="Apellido_materno">Creditos</label> <input type="number"
						class="form-control" id="Apellido_materno"
						placeholder="N° creditos" required="" min="0" max="4"
						th:field="*{creditos}"></input>
				</div>
				<div class="col-xs-6">
					<label for="codigo">Codigo Curso</label> <input type="text"
						class="form-control" id="codigo" placeholder="Ingrese Codigo"
						required="" pattern="[a-zA-Z0-9]{1,71}" th:field="*{codigo}"></input>
					<p th:if="${existe} != null">Este codigo ya existe para el plan elegido</p>
				</div>
				<div class="col-xs-6">
					<label>Plan</label> <select name="plan" class="form-control"
						th:field="*{idPlan}">
						<option th:each="plan : ${listaPlan}" th:value="${plan.idplan}"
							th:text="${plan.planNombre}" />
					</select>
					<br/>
				</div>
			</div>
			
			<div class="text-center">
			<button type="submit" class="btn btn-default" style="width: 30%;" >Registrar</button>
			</div>
		</form>

		<div class="espacio_vacio"></div>
	</div>
	<!-- **********************************IRegistro**********************************-->


	<!-- **********************************IPanelConjunto**********************************-->
	<div th:fragment="contentCursoEquivalencia">
		<h3>CURSOS EQUIVALENTES</h3>
		<hr />

		<form th:action="@{/curso/addConjunto}" th:object="${cursobc}"
			method="post">	
			<p class="lead" >Seleccione un curso de cada panel:</p>
					
			<div class="form-group col-xs-6 well text-center">
				<h3>CURSOS SIN ASOCIAR</h3>
			</div>
			<div class="form-group col-xs-6 well text-center">
				<h3>GRUPO DE CURSOS</h3>
			</div>
			
			<div class="form-group col-xs-6 well">
				<select class="form-control" size="15" th:field="*{idCursoBase}">
					<option th:each="cursob : ${listaCursoB}"
						th:value="${cursob.idcursoGeneral}"
						th:text="${cursob.cursobNombre+' -- Plan: ' + cursob.plan.planNombre}" />
				</select>
			</div>

			<div class="form-group col-xs-6 well">
				<select class="form-control" size="15" id="sltConjunto"
					th:field="*{idCursoConjunto}">
					<option value='0'>NUEVO GRUPO</option>
					<option th:each="cursoc : ${listaCursoC}"
						th:value="${cursoc.idcursoConjunto}"
						th:text="${cursoc.cursocNombre+' '+cursoc.idcursoConjunto+' -- Escuela: ' + #strings.substring(cursoc.cursoBase.plan.planNombre, 5)}" />
				</select>
			</div>
			
			<div class="text-center">
			<button type="submit" class="btn btn-default" style="width: 30%;" >Asociar</button>
			</div>
		</form>

		<div class="espacio_vacio"></div>
	</div>
	<!-- **********************************FPanelConjunto**********************************-->


	<!--**********************IBuscador********************** -->
	<div th:fragment="contentCursoBuscador">
		<h3>BUSCADOR</h3>
		<hr/>
		
		<!-- Inicio filtro e Input buscar -->
		<div>
			<form th:object="${search}" class="form-inline"
				th:action="@{/curso/search}" id="frmFiltro" name="frmFiltro">
				Filtro:
				<div class="form-group">
					<select name="sltFiltro" id="sltFiltro" th:field="*{filtro}">
						<option value="0" selected="selected">Seleccionar</option>
						<option value="1">Codigo</option>
						<option value="2">Nombre</option>
						<option value="3">Escuela o Plan</option>
					</select>
				</div>
				<div class="form-group">
					<input type="text" id="inFiltro" name="inFiltro" size="12"
						disabled="disabled" th:field="*{valor}"></input>
				</div>
				<div class="form-group">
					<button type="submit" id="btnFiltro" name="btnFiltro" size="12"
						disabled="disabled">BUSCAR</button>
				</div>
			</form>
		</div>
		<!-- Fin filtro e Input buscar -->


		<div class="panel-body">
			<table id="example" class="table table-striped table-bordered"
				cellspacing="0" width="100%" th:object="${listaAlumno}">
				<thead>
					<tr>
						<th>Codigo</th>
						<th>Nombre</th>
						<th>Ciclo</th>
						<th>Creditos</th>
						<th>Plan</th>
						<th>Acciones</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="curso : ${listaCurso}">
						<td th:text="${curso.codigo}"></td>
						<td th:text="${curso.nombre}"></td>
						<td th:text="${curso.ciclo}"></td>
						<td th:text="${curso.creditos}"></td>
						<td th:text="${curso.planNombre}"></td>
						<td>
							<!-- a th:href="@{/curso/form/__${curso.idCurso}__}"><button class="btn btn-default"><span class="glyphicon glyphicon-pencil" aria-hidden="true" ></span></button></a>
		              <button class="btn btn-danger"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
		              <button class="btn btn-info" data-toggle="modal" data-target="#modalEdicion"><span class="glyphicon glyphicon-eye-open" aria-hidden="true" ></span></button-->

						</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div class="espacio_vacio"></div>
	</div>
	<!--**********************FBuscador********************** -->
	
	<!--**********************IAviso********************** -->
	<div th:fragment="contentCursoAvisoExitoReg">
		<div class="text-center">
		<p class="lead">Curso registrado exitosamente!</p>
		<a href="#" th:href="@{/curso/form}"><button type="button" class="btn btn-primary">Volver a registro</button></a>
		<a href="#" th:href="@{/curso/all}"><button type="button" class="btn btn-primary">Ir al buscador</button></a>
		</div>	
	</div>
	
	<div th:fragment="contentCursoAvisoExitoEquiv">
		<div class="text-center">
		<p class="lead">Curso asociado exitosamente!</p>
		<a href="#" th:href="@{/curso/conjunto}"><button type="button" class="btn btn-primary">Asociar otro curso</button></a>
		<a href="#" th:href="@{/curso/all}"><button type="button" class="btn btn-primary">Ir al buscador</button></a>
		</div>	
	</div>
	
	<div th:fragment="contentCursoAvisoError">
		<p>Hubo un error al asociar</p>
	</div>
	<!--**********************FAviso********************** -->

</body>
</html>